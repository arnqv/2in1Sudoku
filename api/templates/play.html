{% extends 'base.html' %}

{% block head %}

<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: 'Roboto', sans-serif;
}
.overlay {
    height: 0%;
    width: 100%;
    position: fixed;
    z-index: 2;
    top: 0;
    left: 0;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0, 0.9);
    overflow-y: hidden;
    transition: 0.5s;
  }
  
  .overlay-content {
    position: relative;
    top: 10%;
    width: 100%;
    text-align: center;
    margin-top: 30px;
    margin-bottom: 30px;
    font-size: 14px;
  }
  
  .overlay a {
    padding: 4px;
    text-decoration: none;
    font-size: 36px;
    color: #818181;
    display: block;
    transition: 0.3s;
  }
  
  .overlay a:hover, .overlay a:focus {
    color: #f1f1f1;
  }
  
  .overlay .closebtn {
    position: absolute;
    top: 20px;
    right: 45px;
    font-size: 60px;
  }
  
  @media screen and (max-height: 450px) {
    .overlay {overflow-y: auto;}
    .overlay a {font-size: 20px}
    .overlay .closebtn {
    font-size: 40px;
    top: 15px;
    right: 35px;
    }
  }
  </style>
  </head>
  <body>
  
  <div id="myNav" class="overlay">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <div class="overlay-content" style = "color:var(--bodyTextColor); justify-content:left;text-align:center; font-size:1.2em;">
                      <div class="header" style= "text-decoration:underline; font-size:2.7em; font-weight:500;">Instructions</div>
                         <p> 9×9 square must be filled in with numbers from 1-9<br>with no repeated numbers in each line,<br> 
                          horizontally or vertically. To challenge you more,<br>there are 3×3 squares marked out in the 
                          grid, and each of<br>these squares can't have any repeat numbers either<br><br><br></p>
  
                      <div class="header" style= "text-decoration:underline; font-size:2.7em; font-weight:500;">Features</div>
                      
   
                      <ul>
                          <li>Input a number through the keyboard or by clicking it</li>
                          <li>Select "Back" to return to the home screen</li>
                          <li>Use the "Highlight Same Digits" to find numbers on the board</li>
                          <li>Pause and Play the timer as per your need</li>
                          <li>Undo your move by selecting the button or hitting CTRL + Z</li>
                          <li>Change Your Theme: Choose between green, white, red, and blue themes</li>
                      </ul>
      <p><br><br><br></p>
                  </div>
    </div>
  </div>
  
  <script>
  function openNav() {
    document.getElementById("myNav").style.height = "100%";
  }
  
  function closeNav() {
    document.getElementById("myNav").style.height = "0%";
  }
  </script>


<title>Sudoku</title>
<meta id="my-data" data-name="{{is_solved}}">
<script src="static/javascript/play.js" type="text/javascript"></script>
{% endblock %}

{% block body %}

<body id="body" class="" onload="changeTheme(); changeMode('normal'); createArray(); checkAlert(); startTimer()">
    <h1>Sudoku</h1>
    <form action="/play" method="POST" onsubmit="return validateForm()">
        <div id="content">
            <div id="outsideoption" class="inline">
                <div id="backbutton" class="underlineButton" style = "font-size: 2em; position:absolute; right:230px; top:-60px;">
                    <div onclick="location.href='/'">Back</div>
                </div>
                <div id="messages" class="underlineButton" style = "position:absolute; right:-672px; top:-60px;">
                    <div onclick="openNav()">Instructions</div>
                </div>
                <div id="changetheme" class="underlineButton" style = "position:absolute; right:-860px; top:-60px;">
                    <div onclick="themeOption()">Change Theme</div>
                </div>
                <div id="optioncontainer">

                    <div onclick="toggleDeletePms()" id="deletepms" style="top:-95px;right:50px;" class="opbutton">Auto Delete Pencilmarks</div>

                    <div onclick="toggleHighlightNums()" id="highlightnums" style="top:-57px; right:50px;" class="opbutton" >Highlight Same Digits</div>


                    <div id="optionicons">
                        <div id="shiftIndication"></div>
                        <div id="timer" style="position:absolute;top:174px;right:110px;">00:00</div>
                    </div>

                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<svg style="position:absolute;top:203px;right:129px;" width="104" height="104" id='pause'>
  <circle id="circle" cx="51" cy="51" r="50" stroke-dasharray="314" stroke-dashoffset="0" style="stroke-width:2px;stroke:var(--primaryColor);" />
  <line id='line1' x1="38" y1="30" x2="38" y2="70" style="stroke-width:4px;stroke:var(--primaryColor);stroke-linecap: round;" />
  <path id='line2' d="M 66 30 L 66 50 L 66 70" rx="10" ry="10" style="stroke-width:4px;stroke:var(--primaryColor);fill:var(--primaryColor);stroke-linejoin: round;stroke-linecap: round;">
    <animate
      attributeName="d"
      dur="300ms"
      from="M 66 30 L 66 50 L 66 70"
      to="M 38 30 L 70 50 L 38 70"
      begin="indefinite"
      fill="freeze"
      id="from_pause_to_play"
    />
  </path>
  <animate
    xlink:href="#line2"
    attributeName="d"
    dur="300ms"
    from="M 38 30 L 70 50 L 38 70"
    to="M 66 30 L 66 50 L 66 70"
    fill="freeze"
    id="from_play_to_pause"
    begin="indefinite"
  />

                    <div onclick="fillAllPms()" class="optiondivs">Auto Fill Pencilmarks</div>

                    <div onclick="undo()" class="optiondivs">Undo</div>
                    
                </div>
            </div>

            <div id="outsidegrid" class="inline">
                <div id="instructionsdisplay">
                    <div class="header">How To Play Sudoku</div>
                    <p>The grid is divided into nine blocks, each containing nine squares. Each of the nine blocks has to contain all the numbers 1-9 within its squares. Each number can only appear once in a row, column, or block.</p>

                    <div class="header">Features</div>

                    <ul>
                        <li>Change Theme: Choose between dark, tan, light, and retro themes</li>
                        <li>Click the home icon to return to the menu page</li>
                        <li>Toggling Options</li>
                        <ul>
                            <li>Auto delete pencilmarks when inputting a normal number</li>
                            <li>Highlight all of the same normal/pencilmarked numbers</li>
                            <li>Highlight the respective row, column, and block</li>
                        </ul>
                        <li>Input Options</li>
                        <ul>
                            <li>Press keyboard numbers or click numbers on the keypad</li>
                            <li>Pencilmarks mode will input notes in the cells (double input the same number to delete)</li>
                            <li>Color different cells on the grid (center color is the default) by clicking the color or using the corresponding keyboard number</li>
                            <li>"Auto Fill Pencilmarks" will automatically fill pencilmarks in all cells</li>
                        </ul>
                        <li>Multiple Selections</li>
                        <ul>
                            <li>Hold <i>Shift</i> and use arrow keys or click different cells</li>
                            <li>Drag the cursor around</li>
                            <li><i>"Control A"</i> to select all cells</li>
                            <li>To unselect, (1) click on any cell, or (2) press <i>Escape</i></li>
                            <li>The indicator next to the home icon will turn on if there are multiple selections on the grid</li>
                        </ul>
                        <li>Shortcuts</li>
                        <ul>
                            <li>Click "Undo" or press <i>"Control Z"</i> to undo previous changes</li>
                            <li>Press <i>Space</i> to switch between input modes</li>
                        </ul>
                    </ul>
                </div>

                <div id="checkoverlay"></div>

                <div id="aboutdisplay">
                    <div class="header">About Us</div>
                    <p>Hello! This website was co-created and designed from scratch by Ayush Garg and Suchit Sharma in the summer of 2020.</p>

                    <p>As Sudoku fanatics ourselves, we sought to create a website that combines all of our favorite features when completing challenging Sudokus. We tried to incorporate functionality that promotes ease of movement throughout the Sudoku, options to increase speed while solving, and aesthetic characteristics to promote visual appeal.</p>

                    <p>
                    <p><a href="https://github.com/ssharma919/Sudoku_app" target="_blank">View our GitHub repository
                            here</a></p>
                    <p>Check out some of our other projects on GitHub</p>
                    <span style="margin-left: 30px; margin-right: 75px;">Ayush Garg: <a
                            href="https://github.com/ayushgarg-ag" target="_blank">GitHub</a></span>
                    Suchit Sharma: <a href="https://github.com/ssharma919" target="_blank">GitHub</a>

                    <p>Learn more about us on our Linkedin pages</p>
                    <span style="margin-left: 30px; margin-right: 66px;">Ayush Garg: <a
                            href="https://www.linkedin.com/in/ayush-garg-ag/" target="_blank">LinkedIn</a></span>
                    Suchit Sharma: <a href="https://www.linkedin.com/in/suchit-sharma-988247155/"
                        target="_blank">LinkedIn</a>
                    </p>
                    <div style="height: 6px;"></div>

                    <p>
                        We encourage you to input a Sudoku and try some of the features that will hopefully improve your
                        Sudoku experience as it
                        has for us!
                    </p>

                    <p>
                        For any questions, reporting of bugs, or requests for additional features, email us at <a href="mailto: agss.projects@gmail.com?subject=Sudoku App Feedback">agss.projects@gmail.com</a>.
                    </p>
                </div>

                <div id="grid-container">
                    {% for i in range(9) %}
                        {% for j in range(9) %}
                            {% if play_array == None %}
                                {% if input_array[i][j] != 0 %}
                                <div class="grid-item">
                                    <input id="{{ i*9 + j }}" name="{{ i*9 + j }}" type="text" maxlength="1" class="readonly" min="1" value="{{ input_array[i][j] }}" autocomplete="off" onfocus="selectFocus(this.id)" onmouseover="selectDrag(this.id)" onclick="selectClick(this.id)" readonly>
                                </div>
                                {% else %}
                                <div class="grid-item">
                                    <input id="{{ i*9 + j }}" name="{{ i*9 + j }}" type="text" maxLength="1" class="" autocomplete="off" onfocus="selectFocus(this.id)" onclick="selectClick(this.id)" onmouseover="selectDrag(this.id)" readonly>
                                </div>
                                {% endif %}
                            {% else %}
                                {% if input_array[i][j] != 0 %}
                                <div class="grid-item">
                                    <input id="{{ i*9 + j }}" name="{{ i*9 + j }}" type="text" class="readonly" maxlength="1" min="1" value="{{ input_array[i][j] }}" autocomplete="off" onfocus="selectFocus(this.id)" onmouseover="selectDrag(this.id)" onclick="selectClick(this.id)" readonly>
                                </div>
                                {% elif check_array[i][j] %}
                                <div class="grid-item">
                                    <input id="{{ i*9 + j }}" name="{{ i*9 + j }}" type="text" maxLength="1" class="txt-input" value="{{ play_array[i][j] }}" autocomplete="off" onfocus="selectFocus(this.id)" onclick="selectClick(this.id)" onmouseover="selectDrag(this.id)" readonly>
                                </div>
                                {% else %}
                                <div class="grid-item">
                                    <input id="{{ i*9 + j }}" name="{{ i*9 + j }}" type="text" maxLength="1" class="txt-input errors" value="{{ play_array[i][j] }}" autocomplete="off" onfocus="selectFocus(this.id)" onclick="selectClick(this.id)" onmouseover="selectDrag(this.id)" readonly>
                                </div>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </div>

                <div class="allbuttonscontainer">
                    <div class="buttoncontainers">
                        <button id="solve" type="submit" style = "padding-top:0.75em;" class="pulseText">Check</button>
                    </div>

                    <div class="buttoncontainers">
                        <button id="clear" onclick="restart()" type="button" style = "padding-top:0.75em; padding-left:2em;" class="pulseText">Restart</button>
                    </div>
                </div>
            </div>

            <div id="outsidemode" class="inline">
                <div id="modecontainer">
                    <h4>Modes</h4>

                    <div onclick="changeMode(this.id)" id="normal" value="normal" class="modedivs">Normal</div>

                    <div onclick="changeMode(this.id)" id="pencilmarks" value="pencilmarks" class="modedivs">Pencilmarks</div>

                    <div onclick="changeMode(this.id)" id="colors" value="colors" class="modedivs">Colors</div>

                    <div id="tablecontainer">
                        <table>
                            <tr>
                                <td><button class="colors" onclick="tableInput('1')" type="button">1</button></td>
                                <td><button class="colors" onclick="tableInput('2')" type="button">2</button></td>
                                <td><button class="colors" onclick="tableInput('3')" type="button">3</button></td>
                            </tr>
                            <tr>
                                <td><button class="colors" onclick="tableInput('4')" type="button">4</button></td>
                                <td><button class="colors" onclick="tableInput('5')" type="button">5</button></td>
                                <td><button class="colors" onclick="tableInput('6')" type="button">6</button></td>
                            </tr>
                            <tr>
                                <td><button class="colors" onclick="tableInput('7')" type="button">7</button></td>
                                <td><button class="colors" onclick="tableInput('8')" type="button">8</button></td>
                                <td><button class="colors" onclick="tableInput('9')" type="button">9</button></td>
                            </tr>
                        </table>
                    </div>

                    <div onclick="instructionsDisplay()" id="instructions" class="modedivs">Instructions</div>

                    <div onclick="aboutDisplay()" id="about" class="modedivs">About Us</div>

                </div>
            </div>
        </div>
    </form>
</body>
{% endblock %}div